mutate(Dia_Semana = weekdays(as.POSIXlt(Fecha)))
data %>%
ggplot() +
aes(x = Dia_Semana, y = CO2.ppm, color = Dia_Semana) +
geom_violin() +
labs(x = "Días de la semana", y = "Media de CO2 (ppm)", title = "Nivel de CO2 por día de la semana") +
theme_minimal() +
theme(legend.position="none")
data <- data %>%
mutate(Dia_Semana = weekdays(as.POSIXlt(Fecha)))
data %>%
ggplot() +
aes(x = Dia_Semana, y = CO2.ppm) +
geom_violin() +
labs(x = "Días de la semana", y = "Media de CO2 (ppm)", title = "Nivel de CO2 por día de la semana") +
theme_minimal() +
theme(legend.position="none") +
scale_x_discrete(limits = c("lunes", "martes", "miércoles", "jueves", "viernes", "sábado", "domingo"))
data <- data %>%
mutate(Dia_Semana = weekdays(as.POSIXlt(Fecha)))
data %>%
ggplot() +
aes(x = Dia_Semana, y = rainbow()) +
geom_violin() +
labs(x = "Días de la semana", y = "Media de CO2 (ppm)", title = "Nivel de CO2 por día de la semana") +
theme_minimal() +
theme(legend.position="none") +
scale_x_discrete(limits = c("lunes", "martes", "miércoles", "jueves", "viernes", "sábado", "domingo"))
data <- data %>%
mutate(Dia_Semana = weekdays(as.POSIXlt(Fecha)))
data %>%
ggplot() +
aes(x = Dia_Semana, y = CO2.ppm, color=rainbow()) +
geom_violin() +
labs(x = "Días de la semana", y = "Media de CO2 (ppm)", title = "Nivel de CO2 por día de la semana") +
theme_minimal() +
theme(legend.position="none") +
scale_x_discrete(limits = c("lunes", "martes", "miércoles", "jueves", "viernes", "sábado", "domingo"))
data <- data %>%
mutate(Dia_Semana = weekdays(as.POSIXlt(Fecha)))
data %>%
ggplot() +
aes(x = Dia_Semana, y = CO2.ppm, color=rainbow(7)) +
geom_violin() +
labs(x = "Días de la semana", y = "Media de CO2 (ppm)", title = "Nivel de CO2 por día de la semana") +
theme_minimal() +
theme(legend.position="none") +
scale_x_discrete(limits = c("lunes", "martes", "miércoles", "jueves", "viernes", "sábado", "domingo"))
data <- data %>%
mutate(Dia_Semana = weekdays(as.POSIXlt(Fecha)))
data %>%
ggplot() +
aes(x = Dia_Semana, y = CO2.ppm, colour=rainbow(7)) +
geom_violin() +
labs(x = "Días de la semana", y = "Media de CO2 (ppm)", title = "Nivel de CO2 por día de la semana") +
theme_minimal() +
theme(legend.position="none") +
scale_x_discrete(limits = c("lunes", "martes", "miércoles", "jueves", "viernes", "sábado", "domingo"))
data <- data %>%
mutate(Dia_Semana = weekdays(as.POSIXlt(Fecha)))
data %>%
ggplot() +
aes(x = Dia_Semana, y = CO2.ppm, colour=rainbow(length(Dia_Semana))) +
geom_violin() +
labs(x = "Días de la semana", y = "Media de CO2 (ppm)", title = "Nivel de CO2 por día de la semana") +
theme_minimal() +
theme(legend.position="none") +
scale_x_discrete(limits = c("lunes", "martes", "miércoles", "jueves", "viernes", "sábado", "domingo"))
data <- data %>%
mutate(Dia_Semana = weekdays(as.POSIXlt(Fecha)))
data %>%
ggplot() +
aes(x = Dia_Semana, y = CO2.ppm, colour=rainbow(1)) +
geom_violin() +
labs(x = "Días de la semana", y = "Media de CO2 (ppm)", title = "Nivel de CO2 por día de la semana") +
theme_minimal() +
theme(legend.position="none") +
scale_x_discrete(limits = c("lunes", "martes", "miércoles", "jueves", "viernes", "sábado", "domingo"))
dias_ordenados <- c("lunes", "martes", "miércoles", "jueves", "viernes", "sábado", "domingo")
data <- data %>%
mutate(Dia_Semana = weekdays(as.POSIXlt(Fecha)))
data %>%
ggplot() +
aes(x = Dia_Semana, y = CO2.ppm, colour=rainbow(1)) +
geom_violin() +
labs(x = "Días de la semana", y = "Media de CO2 (ppm)", title = "Nivel de CO2 por día de la semana") +
theme_minimal() +
theme(legend.position="none") +
scale_x_discrete(limits = c("lunes", "martes", "miércoles", "jueves", "viernes", "sábado", "domingo"))
dias_ordenados <- c("lunes", "martes", "miércoles", "jueves", "viernes", "sábado", "domingo")
data <- data %>%
mutate(Dia_Semana = weekdays(as.POSIXlt(Fecha)))
data %>%
ggplot() +
aes(x = Dia_Semana, y = CO2.ppm, colour=rainbow(dias_ordenados)) +
geom_violin() +
labs(x = "Días de la semana", y = "Media de CO2 (ppm)", title = "Nivel de CO2 por día de la semana") +
theme_minimal() +
theme(legend.position="none") +
scale_x_discrete(limits = dias_ordenados)
dias_ordenados <- c("lunes", "martes", "miércoles", "jueves", "viernes", "sábado", "domingo")
data <- data %>%
mutate(Dia_Semana = weekdays(as.POSIXlt(Fecha)))
data %>%
ggplot() +
aes(x = Dia_Semana, y = CO2.ppm, colour=rainbow(length(dias_ordenados))) +
geom_violin() +
labs(x = "Días de la semana", y = "Media de CO2 (ppm)", title = "Nivel de CO2 por día de la semana") +
theme_minimal() +
theme(legend.position="none") +
scale_x_discrete(limits = dias_ordenados)
data <- data %>%
mutate(Dia_Semana = weekdays(as.POSIXlt(Fecha)))
data %>%
ggplot() +
aes(x = Dia_Semana, y = CO2.ppm, colour=blues9) +
geom_violin() +
labs(x = "Días de la semana", y = "Media de CO2 (ppm)", title = "Nivel de CO2 por día de la semana") +
theme_minimal() +
theme(legend.position="none") +
scale_x_discrete(limits = c("lunes", "martes", "miércoles", "jueves", "viernes", "sábado", "domingo"))
data <- data %>%
mutate(Dia_Semana = weekdays(as.POSIXlt(Fecha)))
data %>%
ggplot() +
aes(x = Dia_Semana, y = CO2.ppm, color = blues9) +
geom_violin() +
labs(x = "Días de la semana", y = "Media de CO2 (ppm)", title = "Nivel de CO2 por día de la semana") +
theme_minimal() +
theme(legend.position="none") +
scale_x_discrete(limits = c("lunes", "martes", "miércoles", "jueves", "viernes", "sábado", "domingo"))
data <- data %>%
mutate(Dia_Semana = weekdays(as.POSIXlt(Fecha)))
data %>%
ggplot() +
aes(x = Dia_Semana, y = CO2.ppm) +
geom_violin() +
labs(x = "Días de la semana", y = "Media de CO2 (ppm)", title = "Nivel de CO2 por día de la semana") +
theme_minimal() +
theme(legend.position="none") +
scale_x_discrete(limits = c("lunes", "martes", "miércoles", "jueves", "viernes", "sábado", "domingo"))
Medias <- data %>%
group_by(Mes) %>%
summarise(Media = mean(CO2.ppm))
meses_ordenados <- c("ene.", "feb.", "mar.", "abr.", "may.", "jun.",
"jul.", "ago.", "sep.", "oct.", "nov.", "dic.")
Medias$Mes <- factor(Medias$Mes, meses_ordenados)
Medias <- Medias[order(Medias$Mes),]
Medias %>%
ggplot() +
aes(x = Mes, y = Media) +
geom_point(size = 2, colour = "darkblue") +
labs(title = "Nivel Medio de CO2 por mes", subtitle = "Aula 1-1", x = "Mes del año", y = "Nivel de CO2")
Medias %>%
ggplot() +
aes(x = Mes, y = Media, group = 1) +
geom_smooth() +
labs(title = "Nivel Medio de CO2 por mes", subtitle = "Aula 1-1", x = "Mes del año", y = "Nivel de CO2")
Medias_Semanales <- data %>%
group_by(Semana = format(Fecha, "%U")) %>%
summarise(Maximo = max(CO2.ppm))
Medias_Semanales %>%
ggplot() +
aes(x = Semana, y = Maximo) +
geom_bar(stat = "identity", fill = "#0099cd") +
labs(title = "Nivel Maximo de CO2 por semana", subtitle = "Aula 1-1", x = "Semana", y = "Nivel de CO2") +
theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))
Medias_Semanales %>%
ggplot() +
aes(x = Semana, y = Maximo) +
geom_bar(stat = "identity", fill = "#0099cd") +
labs(title = "Nivel Maximo de CO2 por semana", subtitle = "Aula 1-1", x = "Semana", y = "Nivel de CO2") +
theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1)) + + scale_x_discrete(guide = guide_axis(n.dodge = 2))
Medias_Semanales %>%
ggplot() +
aes(x = Semana, y = Maximo) +
geom_bar(stat = "identity", fill = "#0099cd") +
labs(title = "Nivel Maximo de CO2 por semana", subtitle = "Aula 1-1", x = "Semana", y = "Nivel de CO2") +
theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))  + scale_x_discrete(guide = guide_axis(n.dodge = 2))
Medias_Semanales %>%
ggplot() +
aes(x = Semana, y = Maximo) +
geom_bar(stat = "identity", fill = "#0099cd") +
labs(title = "Nivel Maximo de CO2 por semana", subtitle = "Aula 1-1", x = "Semana", y = "Nivel de CO2") +
theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))  + scale_x_discrete(guide = guide_axis(n.dodge = 1))
# Esta función recibe un nombre de fichero y devuelve un data frame
lee_co2 <- function (filename) {
df <- read.csv(filename, sep = "\t", dec = ",", encoding = "latin1")
#col.names = "Fecha", "Hora", "Temperatura", "Humedad", "CO2"
#Hacer un ifelse con el aula 2-5
df$Humedad.Relativa.... <- gsub(",", ".", df$Humedad.Relativa....)
df$Humedad.Relativa.... <- as.numeric(df$Humedad.Relativa....)
# Añade una nueva columna con el nombre del fichero
nombres_aulas <- gsub("^Sensor_\\d+_", "", filename) # eliminar el prefijo
nombres_aulas <- gsub("\\.txt$", "", nombres_aulas) # eliminar la extensión
df$aula <- gsub("_", " ", nombres_aulas)
return(df)
}
# obtengo los ficheros del directorio
# “files” es un vector con los nombres de los ficheros *.txt
files <- list.files(pattern="\\.txt$")
# Aplico la función lee_co2() a la lista de ficheros.
# Devuelve una lista de ‘data frames’ con los datos leídos.
# La función map() es equivalente a la de Python.
aulas <- purrr::map(files,lee_co2)
# Combino los data frames en un único objeto
jaulas <- dplyr::bind_rows(aulas)
#jaulas <- map_dfr(files, lee_co2)
colnames(jaulas) <- c("Fecha", "Hora", "Temperatura", "Humedad", "CO2", "aula")
indice_minimo <- which.min(jaulas$Humedad)
jaulas <- jaulas[-indice_minimo, ]
jaulas <- na.omit(jaulas)
View(jaulas)
jaulas %>%
mutate(Fecha = as.Date(Fecha, format("%d/%m/%y"))) %>%
mutate(Hora = as.character.POSIXt(Hora)) %>%
mutate(Mes = format(Fecha,"%b")) -> jaulas
jaulas$SoloHora <- substr(jaulas$Hora, 1, 2)
View(jaulas)
mini_df <- jaulas %>%
group_by(aula, Mes = month(Fecha)) %>%
summarise(Max = max(CO2)) %>%
na.omit()
mini_df$num_aula <- gsub("Aula ", "", mini_df$aula)
mini_df$num_aula <- gsub("Aula", "", mini_df$aula)
mini_df$num_aula <- as.numeric(gsub("-", ".", mini_df$num_aula))
month.name.ES <- c("Ene", "Feb", "Mar", "Abr", "May", "Jun", "Jul", "Ago", "Sep", "Oct", "Nov", "Dic")
mini_df$aula <- factor(mini_df$aula, levels = unique(mini_df$aula[order(mini_df$num_aula)]))
mini_df %>%
ggplot() +
aes(x = Mes, y = Max, color = aula) +
geom_smooth() +
labs(x = "Meses", y = "Media de CO2 (ppm)", title = "Nivel de CO2 por meses") +
facet_wrap(~ aula) +
scale_x_continuous(name = "Meses", breaks = seq(1, 12, 1), labels = month.name.ES) +
theme(legend.position="none", axis.text.x = element_text(angle = 45, hjust = 1))
View(jaulas)
View(mini_df)
mini_df <- jaulas %>%
group_by(aula, Mes = month(Fecha)) %>%
summarise(Max = max(CO2)) %>%
na.omit()
mini_df$num_aula <- gsub("Aula ", "", mini_df$aula)
mini_df$num_aula <- gsub("Aula", "", mini_df$aula)
mini_df$num_aula <- as.numeric(gsub("-", ".", mini_df$num_aula))
month.name.ES <- c("Ene", "Feb", "Mar", "Abr", "May", "Jun", "Jul", "Ago", "Sep", "Oct", "Nov", "Dic")
mini_df$aula <- factor(mini_df$aula, levels = unique(mini_df$aula[order(mini_df$num_aula)]))
mini_df %>%
ggplot() +
aes(x = Mes, y = Max, color = aula) +
geom_smooth() +
labs(x = "Meses", y = "Media de CO2 (ppm)", title = "Nivel de CO2 por meses") +
facet_wrap(~ aula) +
scale_x_continuous(name = "Meses", breaks = seq(1, 12, 1), labels = month.name.ES) +
theme(legend.position="none", axis.text.x = element_text(angle = 90, hjust = 1))+ scale_x_discrete(guide = guide_axis(n.dodge = 1))
mini_df <- jaulas %>%
group_by(aula, Mes = month(Fecha)) %>%
summarise(Max = max(CO2)) %>%
na.omit()
mini_df$num_aula <- gsub("Aula ", "", mini_df$aula)
mini_df$num_aula <- gsub("Aula", "", mini_df$aula)
mini_df$num_aula <- as.numeric(gsub("-", ".", mini_df$num_aula))
month.name.ES <- c("Ene", "Feb", "Mar", "Abr", "May", "Jun", "Jul", "Ago", "Sep", "Oct", "Nov", "Dic")
mini_df$aula <- factor(mini_df$aula, levels = unique(mini_df$aula[order(mini_df$num_aula)]))
mini_df %>%
ggplot() +
aes(x = Mes, y = Max, color = aula) +
geom_smooth() +
labs(x = "Meses", y = "Media de CO2 (ppm)", title = "Nivel de CO2 por meses") +
facet_wrap(~ aula) +
scale_x_continuous(name = "Meses", breaks = seq(1, 12, 1), labels = month.name.ES) +
theme(legend.position="none", axis.text.x = element_text(angle = 45, hjust = 1))+ scale_x_discrete(guide = guide_axis(n.dodge = 1))
Medias_Semanales %>%
ggplot() +
aes(x = Semana, y = Maximo) +
geom_bar(stat = "identity", fill = "#0099cd") +
labs(title = "Nivel Maximo de CO2 por semana", subtitle = "Aula 1-1", x = "Semana", y = "Nivel de CO2") +
theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))  + scale_x_discrete(guide = guide_axis(n.dodge = 1))
mini_df <- jaulas %>%
group_by(aula, Mes = month(Fecha)) %>%
summarise(Max = max(CO2)) %>%
na.omit()
mini_df$num_aula <- gsub("Aula ", "", mini_df$aula)
mini_df$num_aula <- gsub("Aula", "", mini_df$aula)
mini_df$num_aula <- as.numeric(gsub("-", ".", mini_df$num_aula))
month.name.ES <- c("Ene", "Feb", "Mar", "Abr", "May", "Jun", "Jul", "Ago", "Sep", "Oct", "Nov", "Dic")
mini_df$aula <- factor(mini_df$aula, levels = unique(mini_df$aula[order(mini_df$num_aula)]))
mini_df %>%
ggplot() +
aes(x = Mes, y = Max, color = aula) +
geom_smooth() +
labs(x = "Meses", y = "Media de CO2 (ppm)", title = "Nivel de CO2 por meses") +
facet_wrap(~ aula) +
scale_x_continuous(name = "Meses", breaks = seq(1, 12, 1), labels = month.name.ES) +
theme(legend.position="none", axis.text.x = element_text(angle = 45, hjust = 1))
mini_df <- jaulas %>%
group_by(aula, Mes = month(Fecha)) %>%
summarise(Max = max(CO2)) %>%
na.omit()
mini_df$num_aula <- gsub("Aula ", "", mini_df$aula)
mini_df$num_aula <- gsub("Aula", "", mini_df$aula)
mini_df$num_aula <- as.numeric(gsub("-", ".", mini_df$num_aula))
month.name.ES <- c("Ene", "Feb", "Mar", "Abr", "May", "Jun", "Jul", "Ago", "Sep", "Oct", "Nov", "Dic")
mini_df$aula <- factor(mini_df$aula, levels = unique(mini_df$aula[order(mini_df$num_aula)]))
mini_df %>%
ggplot() +
aes(x = Mes, y = Max, color = aula) +
geom_smooth() +
labs(x = "Meses", y = "Media de CO2 (ppm)", title = "Nivel de CO2 por meses") +
facet_wrap(~ aula) +
scale_x_continuous(name = "Meses", breaks = seq(1, 12, 1), labels = month.name.ES) +
theme(legend.position="none", axis.text.x = element_text(angle = 45, hjust = 1)) + scale_x_discrete(guide = guide_axis(n.dodge = 2))
mini_df <- jaulas %>%
group_by(aula, Mes = month(Fecha)) %>%
summarise(Max = max(CO2)) %>%
na.omit()
mini_df$num_aula <- gsub("Aula ", "", mini_df$aula)
mini_df$num_aula <- gsub("Aula", "", mini_df$aula)
mini_df$num_aula <- as.numeric(gsub("-", ".", mini_df$num_aula))
month.name.ES <- c("Ene", "Feb", "Mar", "Abr", "May", "Jun", "Jul", "Ago", "Sep", "Oct", "Nov", "Dic")
mini_df$aula <- factor(mini_df$aula, levels = unique(mini_df$aula[order(mini_df$num_aula)]))
mini_df %>%
ggplot() +
aes(x = Mes, y = Max, color = aula) +
geom_smooth() +
labs(x = "Meses", y = "Media de CO2 (ppm)", title = "Nivel de CO2 por meses") +
facet_wrap(~ aula) +
scale_x_continuous(name = "Meses", breaks = seq(1, 12, 1), labels = month.name.ES) +
theme(legend.position="none", axis.text.x = element_text(angle = 45, hjust = 1))
mini_df <- jaulas %>%
group_by(aula, Mes = month(Fecha)) %>%
summarise(Max = max(CO2)) %>%
na.omit()
mini_df$num_aula <- gsub("Aula ", "", mini_df$aula)
mini_df$num_aula <- gsub("Aula", "", mini_df$aula)
mini_df$num_aula <- as.numeric(gsub("-", ".", mini_df$num_aula))
month.name.ES <- c("Ene", "Feb", "Mar", "Abr", "May", "Jun", "Jul", "Ago", "Sep", "Oct", "Nov", "Dic")
mini_df$aula <- factor(mini_df$aula, levels = unique(mini_df$aula[order(mini_df$num_aula)]))
mini_df %>%
ggplot() +
aes(x = Mes, y = Max, color = aula) +
geom_smooth() +
labs(x = "Meses", y = "Media de CO2 (ppm)", title = "Nivel de CO2 por meses") +
facet_wrap(~ aula) +
scale_x_continuous(name = "Meses", breaks = seq(1, 12, 1), labels = month.name.ES) +
theme(legend.position="none", axis.text.x = element_text(angle = 45, hjust = 1))
View(mini_df)
help("factor")
help("read.csv")
help("format")
help("as.character")
help("POSIXt")
df <- read.csv('../ree_2022')
df <- read.csv('../datos_ree_2022/ree_2022')
# para manipular dataframes
library(tidyverse)
# para importar archivos shapefiles
library(rgdal)
install.packages("rgdal")
# para manipular dataframes
library(tidyverse)
# para importar archivos shapefiles
library(rgdal)
# Para transformar los archivos shapefiles
library(broom)
setwd("C:/Users/Usuario/Desktop/r_que_r/r_que_r/content/datasets/ComunidadesAutonomas_ETRS89_30N")
setwd("../r_que_r/r_que_r/content/datasets/ComunidadesAutonomas_ETRS89_30N")
shapefile_ccaa <- readOGR("Comunidades_Autonomas_ETRS89_30N.shp")
shapefile_ccaa <- readOGR("Comunidades_Autonomas_ETRS89_30N.shp")
shapefile_ccaa <- readOGR("Comunidades_Autonomas_ETRS89_30N.shp")
setwd("../r_que_r/r_que_r/content/datasets/ComunidadesAutonomas_ETRS89_30N")
setwd("..r_que_r/r_que_r/content/datasets/ComunidadesAutonomas_ETRS89_30N")
setwd("../r_que_r/r_que_r/content/datasets/ComunidadesAutonomas_ETRS89_30N")
setwd("C:/Users/Jaime/Desktop/r_que_r/r_que_r/content/datasets/ComunidadesAutonomas_ETRS89_30N")
setwd("C:/Users/Jaime/Desktop/r_que_r/r_que_r/content/datasets/ComunidadesAutonomas_ETRS89_30N")
setwd("C:/Users/Jaime/Desktop/r_que_r/r_que_r/content/datasets/ComunidadesAutonomas_ETRS89_30N")
setwd("C:/Users/Jaime/Desktop/r_que_r/r_que_r/content/datasets/ComunidadesAutonomas_ETRS89_30N")
setwd("C:/Users/Jaime/Desktop/r_que_r/r_que_r/content/datasets/ComunidadesAutonomas_ETRS89_30N")
setwd("C:/Users/Jaime/Desktop/r_que_r/r_que_r/content/datasets/ComunidadesAutonomas_ETRS89_30N")
setwd("C:/Users/Jaime/Desktop/r_que_r/r_que_r/content/datasets/ComunidadesAutonomas_ETRS89_30N")
setwd("C:/Users/Jaime/Desktop/r_que_r/r_que_r/content/datasets/ComunidadesAutonomas_ETRS89_30N")
setwd("C:/Users/Jaime/Desktop/r_que_r/r_que_r/content/datasets/ComunidadesAutonomas_ETRS89_30N")
setwd("C:/Users/Jaime/Desktop/r_que_r/r_que_r/content/datasets/ComunidadesAutonomas_ETRS89_30N")
setwd("../r_que_r/r_que_r/content/datasets/ComunidadesAutonomas_ETRS89_30N")
setwd("../r_que_r/r_que_r/content/datasets/ComunidadesAutonomas_ETRS89_30N")
setwd("../r_que_r/r_que_r/content/datasets/ComunidadesAutonomas_ETRS89_30N")
setwd("../r_que_r/r_que_r/content/datasets/ComunidadesAutonomas_ETRS89_30N")
setwd("../ComunidadesAutonomas_ETRS89_30N")
setwd("../ComunidadesAutonomas_ETRS89_30N")
setwd("../ComunidadesAutonomas_ETRS89_30N")
shapefile_ccaa <- readOGR("Comunidades_Autonomas_ETRS89_30N.shp")
setwd("../ComunidadesAutonomas_ETRS89_30N")
shapefile_ccaa <- readOGR("Comunidades_Autonomas_ETRS89_30N.shp")
data_ccaa <- tidy(shapefile_ccaa)
setwd("../ComunidadesAutonomas_ETRS89_30N")
shapefile_ccaa <- readOGR("Comunidades_Autonomas_ETRS89_30N.shp")
data_ccaa <- tidy(shapefile_ccaa)
head(data_ccaa)
nombres_ccaa <- data.frame(shapefile_ccaa$Texto)
head(nombres_ccaa)
##     shapefile_cc
nombres_ccaa <- data.frame(shapefile_ccaa$Texto)
head(nombres_ccaa)
##     shapefile_cc
nombres_ccaa$id <- as.character(seq(0, nrow(nombres_ccaa)-1))
head(nombres_ccaa)
data_ccaa_mapa <- left_join(data_ccaa, nombres_ccaa, by = "id")
head(data_ccaa_mapa)
data_ccaa_mapa %>%
ggplot() +
geom_polygon(aes( x= long, y = lat, group = group),
fill = "violetred4",
color = "white") +
theme_minimal() +
theme(
axis.line = element_blank(),
axis.text = element_blank(),
axis.title = element_blank(),
axis.ticks = element_blank(),
panel.background = element_rect(colour= "darkgrey", size= 0.5)) +
ggtitle("Comunidades Autónomas Españolas")
setwd("../Provincias_ETRS89_30N")
# para manipular dataframes
library(tidyverse)
# para importar archivos shapefiles
library(rgdal)
# Para transformar los archivos shapefiles
library(broom)
setwd("../r_que_r/r_que_r/content/datasets/ComunidadesAutonomas_ETRS89_30N")
setwd("../ComunidadesAutonomas_ETRS89_30N")
setwd("C:\Users\Jaime\Desktop\Tutorial R que R\ComunidadesAutonomas_ETRS89_30N\Comunidades_Autonomas_ETRS89_30N.dbf")
setwd("C:/Users/Jaime/Desktop/Tutorial R que R/ComunidadesAutonomas_ETRS89_30N/Comunidades_Autonomas_ETRS89_30N.dbf")
setwd("../Comunidades_Autonomas_ETRS89_30N.dbf")
setwd("C:/Users/Jaime/Desktop/Tutorial R que R/ComunidadesAutonomas_ETRS89_30N/Comunidades_Autonomas_ETRS89_30N.dbf")
setwd("C:/Users/Jaime/Desktop/Tutorial R que R/ComunidadesAutonomas_ETRS89_30N/Comunidades_Autonomas_ETRS89_30N.dbf")
setwd("C:/Users/Jaime/Desktop/Tutorial R que R/ComunidadesAutonomas_ETRS89_30N/Comunidades_Autonomas_ETRS89_30N.dbf")
setwd("C:/Users/Jaime/Desktop/Tutorial R que R/ComunidadesAutonomas_ETRS89_30N/Comunidades_Autonomas_ETRS89_30N.dbf")
setwd("C:/Users/Jaime/Desktop/Tutorial R que R/ComunidadesAutonomas_ETRS89_30N/Comunidades_Autonomas_ETRS89_30N.dbf")
setwd("C:/Users/Jaime/Desktop/Tutorial R que R/ComunidadesAutonomas_ETRS89_30N/Comunidades_Autonomas_ETRS89_30N.dbf")
setwd("C:/Users/Jaime/Desktop/Tutorial R que R/ComunidadesAutonomas_ETRS89_30N/Comunidades_Autonomas_ETRS89_30N.dbf")
setwd("C:/Users/Jaime/Desktop/Tutorial R que R/ComunidadesAutonomas_ETRS89_30N")
setwd("C:/Users/Jaime/Desktop/Tutorial R que R/ComunidadesAutonomas_ETRS89_30N")
shapefile_provincias <- readOGR("Provincias_ETRS89_30N.shp")
setwd("C:/Users/Jaime/Desktop/Tutorial R que R/ComunidadesAutonomas_ETRS89_30N")
shapefile_ccaa <- readOGR("Comunidades_Autonomas_ETRS89_30N.shp")
setwd("C:/Users/Jaime/Desktop/Tutorial R que R/ComunidadesAutonomas_ETRS89_30N")
shapefile_ccaa <- readOGR("Comunidades_Autonomas_ETRS89_30N.shp")
data_ccaa <- tidy(shapefile_ccaa)
setwd("C:/Users/Jaime/Desktop/Tutorial R que R/ComunidadesAutonomas_ETRS89_30N")
shapefile_ccaa <- readOGR("Comunidades_Autonomas_ETRS89_30N.shp")
data_ccaa <- tidy(shapefile_ccaa)
head(data_ccaa)
nombres_ccaa <- data.frame(shapefile_ccaa$Texto)
head(nombres_ccaa)
nombres_ccaa <- data.frame(shapefile_ccaa$Texto)
head(nombres_ccaa)
nombres_ccaa$id <- as.character(seq(0, nrow(nombres_ccaa)-1))
head(nombres_ccaa)
data_ccaa_mapa <- left_join(data_ccaa, nombres_ccaa, by = "id")
head(data_ccaa_mapa)
data_ccaa_mapa %>%
ggplot() +
geom_polygon(aes( x= long, y = lat, group = group),
fill = "violetred4",
color = "white") +
theme_minimal() +
theme(
axis.line = element_blank(),
axis.text = element_blank(),
axis.title = element_blank(),
axis.ticks = element_blank(),
panel.background = element_rect(colour= "darkgrey", size= 0.5)) +
ggtitle("Comunidades Autónomas Españolas")
setwd("C:/Users/Jaime/Desktop/Tutorial R que R/Provincias_ETRS89_30N")
setwd("C:/Users/Jaime/Desktop/Tutorial R que R/Provincias_ETRS89_30N")
shapefile_provincias <- readOGR("Provincias_ETRS89_30N.shp")
setwd("C:/Users/Jaime/Desktop/Tutorial R que R/Provincias_ETRS89_30N")
shapefile_provincias <- readOGR("Provincias_ETRS89_30N.shp")
data_provincias <- tidy(shapefile_provincias)
head(data_provincias)
nombres_provincias <- data.frame(shapefile_provincias$Texto)
head(nombres_provincias)
nombres_provincias <- data.frame(shapefile_provincias$Texto)
head(nombres_provincias)
nombres_provincias$id <- as.character(seq(0, nrow(nombres_provincias)-1))
head(nombres_provincias)
data_provincias_mapa <- left_join(data_provincias, nombres_provincias, by = "id")
head(data_provincias_mapa)
data_provincias_mapa %>%
ggplot() +
geom_polygon(aes( x= long, y = lat, group = group),
fill = "violetred4",
color = "white") +
theme_minimal() +
theme(
axis.line = element_blank(),
axis.text = element_blank(),
axis.title = element_blank(),
axis.ticks = element_blank(),
panel.background = element_rect(colour= "darkgrey", size= 0.5)) +
ggtitle("Provincias Españolas")
setwd("C:/Users/Jaime/Desktop/Tutorial R que R/Municipios_IGN.csv")
setwd("C:/Users/Jaime/Desktop/Tutorial R que R/Municipios_IGN")
setwd("C:/Users/Jaime/Desktop/Tutorial R que R/Municipios_IGN")
shapefile_municipios <- readOGR("Municipios_IGN.shp")
setwd("C:/Users/Jaime/Desktop/Tutorial R que R/Municipios_IGN")
shapefile_municipios <- readOGR("Municipios_IGN.shp")
data_municipios <- tidy(shapefile_municipios)
head(data_municipios)
setwd("C:/Users/Jaime/Desktop/Tutorial R que R/Municipios_IGN")
shapefile_municipios <- readOGR("Municipios_IGN.shp")
data_municipios <- tidy(shapefile_municipios)
